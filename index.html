<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"> 
</head>
<body>

<button onclick="customApi()">Hello</button>

<script>

    function customApi(){

        const person = {
            script: "<?php echo 123; ?>",
            language: "php",
            versionIndex: "0",
            clientId: "39882eb0e8a01aac131f9dfdb89f0bef",
            clientSecret: "85e310de734661111fa1d32a469d3b80d9a864ef548a2c704e68b768ec3a4288"
        }

        fetch('https://api.jdoodle.com/v1/execute', {
            mode: "no-cors",
            method: "POST",
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json',
                //'charset': 'utf-8',
                //'dataType': 'json',
            },
            body: JSON.stringify(person),
        })
        .then(response => {
            console.log(response)
        })
        .catch(err => {
            console.log(err)
        })

        
        // this is postman generated code

        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");

        var raw = JSON.stringify({
            "clientId": "39882eb0e8a01aac131f9dfdb89f0bef",
            "clientSecret": "85e310de734661111fa1d32a469d3b80d9a864ef548a2c704e68b768ec3a4288",
            "script": "public class Simple{public static void main(String args[]){System.out.println(\"Hello Java\");}}",
            "language": "java",
            "versionIndex": "0"
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow',
            mode: "no-cors",
        };

        fetch("https://api.jdoodle.com/v1/execute", requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));
        }

</script>

</body>
</html>

